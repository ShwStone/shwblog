---
title: CSP-S2023游记
date: 2023-10-23 16:20:07
tags:
comments: true
sticky: 2
---

---
<!--more-->

想了一下，好像 OI 四年了都没有认真写过游记，考虑到今年是 AFO 前最后一年，还是要写一写。

## Day -2

校运会。抽签跑 400，大寄，头痛欲裂。

晚上调神秘 UB。UB 是在 `g++ -std=c++11/c++14` 的时候就会 WA，clang 或者 C++17 都能 A。最后发现 `std::map` 不能用 `unsigned` 做模板类型（诡异到家）。到现在还不懂。

感觉很慌，最近尽写 UB。

## Day -1

校内模拟赛。树剖挂大分，明明终点已经向上跳过了还硬要返回原先的终点。

不过数据和我是旗鼓相当的对手，就这样还有 40 分。

要是 CCF 也这么出数据就好了。

## Day 0

背板子。敲了一遍 ISAP,又用 fhq AC 了线段树的模板题。

校运会期间小卖部不开，连续三天没咖啡，下午直接睡了一个小时。

主要是颓。

## Day 1

上午睡到 9 点。

坐地铁去杭师大仓前。没遇见一个同学。反而是遇见了初中教练在考点当工作人员。

进去啥也干不了，就开始吃东西。一直到广播开始报解压密码。第一遍广播少报了一个 y，但是第二遍也打不开，然后过来一个老师让 Linux 选手等一下。大概是格式不兼容。

于是网线突然连接。右上角直接“有线连接-已激活”，然后发下来一个无密码包。大概开了 30 秒。~~考试公平系数大降~~

估计没有人能乘机作弊。我发现的时候网络过了 5 秒就断了。

又坐到开考前两分钟，播报 pdf 密码。这回没问题。

开 T1。愣了一会儿，发现状态空间才 $10^5$。直接枚举。

然后没过样例。调了一下发现没有限制拨动位置相邻。还是不对。再调了一下发现没有对 10 取模。

然后两个样例都过了。手捏了几个数据测试了一下 `check` 函数，感觉没问题就跳。

大概大半个小时。

然后 T2。一眼栈。显然有 $O(n^2)$ 50pts。但没有动力写。结果想了很久。

一开始想到按字母统计贡献，然后发现一个回文性质，想了好久马拉车，假了。

猜了个结论，写了一下，挂了大样例。手模 `aaaabaaaabaaaa`，发现“不可分割的最小消去串”很重要。又改了改，维护了连续最小串的个数和最小串匹配位置，暴力往前跳。以为会 T，发现大样例很快。没有细想，纠结的时间还是太多了，直接跳 T3。

T3 一眼大模拟。感觉没有那么恶心，适合指针写。对齐想了 15min 没想清楚，直接对着最后的提示打。代码重构了两三次，大概写了大半个小时。然后小样例就挂了。

gdb 调试。发现读入字符串是 `xba`，一看快读字符串没有清空。然后 A 了小样例。第一个大样例又挂了，而且直接把内存卡没了，还好 `Ctrl + C` 按得快。百思不得其解。又是 gdb。Step by step 了好久，发现样例在没有变量的时候就查询了。改了就 A 了。

很慌，感觉还有细节没发现，但是没空想了，T4。

T4 一开始就看过，明显父亲依赖。但是没办法直接 DP。

去上厕所。走在路上的时候就茅厕顿开，几乎立刻想到了二分 + 计算每个点最晚日期。没想清楚，但是直觉这个东西可以在树上做。

排队的时候前前后后都是小学生，主打一个鹤立鸡群。

排队的时候想到父亲最晚日期要对儿子日期减一取 $\min$。正确性不会证，但是不重要了，直觉认为很对。

回去打。发现最晚日期不好算。于是又一个二分。细节比较多，代码丑陋，不过小样例都 A 了。

突然大样例来了个 $10^9$，其实就是说认为无解。又是百思不得其解。又是 gdb,step by step，发现乘出来一个负数，反应过来爆 `long long` 了，果断 `__int128`。

A 了。不放心，写了个随机数据生成器，结果符合预期。

大概剩不到半个小时。

回头看 T2,越看越觉得对，好像卡不掉，应该是 $O(26n)$。$2\times 10^6$ 随机数据也很快。

还是慌。查完文操之后居然又想优化，实在来不及，就放弃了。

查 T3 的时候发现一个神奇 Warning：`-Wreorder`，是结构体内部成员定义顺序和构造函数里的初始化顺序不一样。难绷。

关掉 VSCode，用 `cat ./**/*.cpp` 又查了一次文操，还试了一次编译，就结束了。

出考场遇到[鱼饼](https://www.luogu.com.cn/user/333119)。不一会儿又遇到了[硕爷](https://www.luogu.com.cn/user/461426)。感觉鱼饼跟平时不太一样，一问硕爷，原来他 T3 调挂了。

硕爷 T3 好像也不太妙，但是忘记了。

当时还是感觉 T2 大概率被卡，T3 可能细节挂分。

大概 300 到 400 pts。

晚上就公布了代码（用 CCF 的话说叫泄漏）。结果各个平台 T3T4 都没数据。Luogu UKE 还吓了我一跳。意料之外是 T2 过了，突然感觉有机会 AK 了。

## Day 2

Luogu 上午出 T3T4，居然又 A 了。但是看讨论区有人说是马奇诺防线。

下午小图灵也 A 了，应该数据强了一点，把同校的 [wbx](https://www.luogu.com.cn/user/415701) 卡掉了。

## Day 3

Luogu 出了另一组 T2 数据。还是没被卡。测了云斗，也能 A，大概稳了。

唯一的问题是我没有删除子目录下其他文件，也许挂零？

反正今年也不会冲省选，蓝勾也拿过，问题不大。

晚上做 ZJOI2022，最简单的是紫题，又 T 又 WA。

果然我还是菜。
