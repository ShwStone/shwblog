---
title: 一言
date: 2023-06-29 21:43:10
comments: false
sticky: 999999
---
{% cq %}
<div>
<button id="hitokoto" style="color: grey; background: var(--body-bg-color); border: 0; width: 100%">
一言发生错误
</button>
</div>
{% endcq %}
<div>
<button id="hitokoto-from" style="color: grey; background: var(--body-bg-color); border: 0; width: 100%">
</button>
</div>

<script>
  const hitokoto = document.getElementById("hitokoto");
  const hitokoto_from = document.getElementById("hitokoto-from");
  const setHitokoto = () => {
    try {
      fetch("https://v1.hitokoto.cn/")
        .then((res) => res.json())
        .then((data) => {
          hitokoto.innerHTML = data.hitokoto;
          hitokoto_from.innerHTML = `<p  align="right">——${data.from}</p><p style="color: #c9c5c3">按任意处切换</p>`;
      });
    } catch(e) {
      hitokoto.innerHTML = "一言发生错误";
      hitokoto_from.innerHTML = "";
    }
  }
  setHitokoto();
  hitokoto.addEventListener("click", setHitokoto);
  hitokoto_from.addEventListener("click", setHitokoto);
</script>